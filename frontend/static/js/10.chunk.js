(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{528:function(e,t,a){},529:function(e,t,a){"use strict";a.r(t);var l=a(66),n=a(1),c=a.n(n),r=a(41),m=a(52),s=a(32),E=a(16),o=a(26),i=a(72),d=a(463),u=a(451),O=a(525),g=a(13),N=a(25),b=a(178),S=a(176),R=(a(128),({message:e})=>{const t=Object(o.b)().t;return c.a.createElement("div",{className:"loading-page"},c.a.createElement(S.a,{heading:t("COMMON.ERROR.SORRY"),message:e||t("COMMON.ERROR.NO_DATA")}))}),I=a(526),p=({circle:e,current:t,pageCount:a,width:r,onChange:m})=>{const s=Object(o.b)().t,i=Object(n.useState)([]),d=Object(l.a)(i,2),u=d[0],O=d[1],N="ltr"===s("DIRECTION")?"left":"right",b="ltr"===s("DIRECTION")?"right":"left";return Object(n.useEffect)(e=>{!r&&(r=I.isMobile?g.f.WIDTH_MOBILE:g.f.WIDTH);const l=Math.ceil(r/2);let n=t-l<1?1:t-l,c=t+l-1>a?a:t+l-1;c-n<r&&(1===n&&(c=a<r?a:r),c===a&&(n=a-r+1<1?1:a-r+1));let m=[];for(let t=n;t<=c;t++)m.push(t);O(m)},[t,a,r]),c.a.createElement(n.Fragment,null,a>0&&c.a.createElement(E.z,{circle:e},c.a.createElement(E.x,{disabled:1===t,onClick:()=>m(1)},c.a.createElement(E.y,{className:"page-link"},c.a.createElement(E.m,{icon:"angle-double-".concat(N)}))),c.a.createElement(E.x,{disabled:1===t,onClick:()=>m(t-1)},c.a.createElement(E.y,{className:"page-link"},c.a.createElement(E.m,{icon:"angle-".concat(N)}))),u.map((e,a)=>c.a.createElement(E.x,{key:e,active:e===t,onClick:()=>t!==e&&m(e)},c.a.createElement(E.y,{className:"page-link"},e))),c.a.createElement(E.x,{disabled:t===a,onClick:()=>m(t+1)},c.a.createElement(E.y,{className:"page-link"},c.a.createElement(E.m,{icon:"angle-".concat(b)}))),c.a.createElement(E.x,{disabled:t===a,onClick:()=>m(a)},c.a.createElement(E.y,{className:"page-link"},c.a.createElement(E.m,{icon:"angle-double-".concat(b)})))))},C=a(123),h=a(29),T=a(43),D=a(55),M={list:e=>new Promise((t,a)=>{Object(h.a)(T.d,D.a.drivers.list,e).then(e=>{t(e)},e=>{a(e)})})},j=({items:e,handleDelete:t})=>{const a=Object(o.b)().t,l=e=>{},n=e=>{};return c.a.createElement(E.I,{responsive:!0,striped:!0},c.a.createElement(E.K,null,c.a.createElement("tr",{className:""},c.a.createElement("th",{className:"nomer-col"},"#"),c.a.createElement("th",null,a("DRIVERS.FIELDS.NAME")),c.a.createElement("th",null,a("DRIVERS.FIELDS.MOBILE")),c.a.createElement("th",null,a("DRIVERS.FIELDS.VEHICLE")),c.a.createElement("th",null,a("DRIVERS.FIELDS.DOCUMENTS")),c.a.createElement("th",null,a("DRIVERS.FIELDS.BALANCE")),c.a.createElement("th",null,a("DRIVERS.FIELDS.PENDING")),c.a.createElement("th",null,a("DRIVERS.FIELDS.STATUS")),c.a.createElement("th",{className:"edit-col-3"},a("DRIVERS.FIELDS.ACTION")))),c.a.createElement(E.J,null,!!e.length&&e.map((e,r)=>c.a.createElement("tr",{key:r,className:""},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.name),c.a.createElement("td",null,"+",e.dial_code," ",e.mobile_number),c.a.createElement("td",null,e.vehicle_name," - ",e.vehicle_number),c.a.createElement("td",null,a("COMMON.STATUS.".concat(e.is_active?"SUBMITTED":"NOT_SUBMITTED"))),c.a.createElement("td",null,e.balance),c.a.createElement("td",null,e.pending||0),c.a.createElement("td",null,c.a.createElement(E.c,{pill:!0,color:e.is_active?"success":"danger"},a("COMMON.STATUS.".concat(e.is_active?"ENABLED":"DISABLED")))),c.a.createElement("td",{className:"edit-col"},c.a.createElement(E.g,{tag:"a",floating:!0,color:"primary",size:"sm",onClick:e=>l&&void 0},c.a.createElement(E.m,{icon:"eye"})),c.a.createElement(E.g,{tag:"a",floating:!0,color:"secondary",size:"sm",className:"mx-2",onClick:e=>n&&void 0},c.a.createElement(E.m,{icon:"edit"})),c.a.createElement(E.g,{tag:"a",floating:!0,color:"danger",size:"sm",onClick:a=>t&&t(e,r)},c.a.createElement(E.m,{icon:"trash"})))))))};a(528),t.default=(()=>{const e=Object(m.h)().page,t=Object(o.b)().t,a=Object(m.g)(),S=Object(r.c)(e=>e).auth.user,I=Object(n.useState)(!1),h=Object(l.a)(I,2),T=h[0],D=h[1],f=Object(n.useState)({}),k=Object(l.a)(f,2),A=k[0],v=k[1],_=Object(n.useState)({}),y=Object(l.a)(_,2),L=y[0],V=y[1],w=Object(n.useState)(0),B=Object(l.a)(w,2),U=B[0],x=B[1],F=Object(n.useState)([]),z=Object(l.a)(F,2),W=z[0],H=z[1],J=e?parseInt(e):1,K=t("NAVBAR.DRIVERS.LIST"),P="".concat(N.a.drivers.add,"/").concat(O.Base64.encode(JSON.stringify({page:e}))),q=(N.a.drivers.add,e=>{V(Object.assign({},L,{show:!L.show}))}),G=({id:a})=>{q(),D(!0),M.delete({page:e,pageSize:10,id:L.deleteId,userId:S.id}).then(e=>{e.result===g.h.SUCCESS?(x(e.pageCount),H(e.data)):C.b.error(e.message),D(!1)}).catch(e=>{C.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),D(!1)})},Y=e=>{a.push("".concat(N.a.drivers.list,"/").concat(e))};Object(n.useEffect)(e=>{i.animateScroll.scrollToTop({duration:g.d.TRANSITION_TIME})},[]),Object(n.useMemo)(a=>{D(!0),v({}),M.list({page:e,pageSize:10,userId:S.id}).then(e=>{e.result===g.h.SUCCESS?(x(e.pageCount),H(e.data)):C.b.error(e.message),D(!1)}).catch(e=>{C.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),D(!1)})},[e,t]),Object(n.useMemo)(e=>{i.animateScroll.scrollToTop({duration:g.d.TRANSITION_TIME})},[e]);return c.a.createElement(n.Fragment,null,c.a.createElement(d.Helmet,null,c.a.createElement("title",null,K," - ",t("SITE_NAME"))),c.a.createElement(E.e,null,c.a.createElement(E.f,null,t("NAVBAR.DRIVERS.ROOT")),c.a.createElement(E.f,{active:!0},K)),c.a.createElement(E.C,{className:"my-0"},c.a.createElement(E.j,{md:"12",className:"order-1 order-md-0"},c.a.createElement("div",{className:"full-width text-left"},c.a.createElement(s.b,{to:P},c.a.createElement(E.g,{color:"primary",size:"sm",rounded:!0,disabled:!!T},t("COMMON.BUTTON.NEW")))))),c.a.createElement(E.C,null,A.show&&c.a.createElement(E.j,{md:"12"},c.a.createElement(u.a,{in:A.show,classNames:"fade-transition",timeout:g.d.TRANSITION_TIME,unmountOnExit:!0,appear:!0},c.a.createElement(E.b,{color:A.color,dismiss:!0,onClosed:()=>v({})},A.message))),c.a.createElement(E.j,{md:"12"},!!T&&c.a.createElement(b.a,null),!T&&!W.length&&c.a.createElement(R,null),!T&&!!W.length&&c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"my-4 text-center"},c.a.createElement(p,{circle:!0,current:J,pageCount:U,onChange:Y})),c.a.createElement(j,{items:W}),c.a.createElement("div",{className:"mt-4 text-center"},c.a.createElement(p,{circle:!0,current:J,pageCount:U,onChange:Y}))))),c.a.createElement(E.p,{isOpen:!!L.show,toggle:q,centered:!0,backdropClassName:"modal-backdrop"},c.a.createElement(E.s,{toggle:q},L.title),c.a.createElement(E.q,{className:"text-left"},L.message),c.a.createElement(E.r,null,c.a.createElement(E.g,{type:"button",color:"danger",size:"sm",rounded:!0,onClick:G},t("COMMON.BUTTON.DELETE")),c.a.createElement(E.g,{type:"button",color:"secondary",size:"sm",rounded:!0,onClick:q},t("COMMON.BUTTON.CANCEL")))))})}}]);