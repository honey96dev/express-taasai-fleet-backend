(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{473:function(e,t,a){"use strict";var c=a(1),n=a.n(c),l=a(27),r=a(131);a(129);t.a=(({message:e})=>{const t=Object(l.b)().t;return n.a.createElement("div",{className:"loading-page"},n.a.createElement(r.a,{heading:t("COMMON.ERROR.SORRY"),message:e||t("COMMON.ERROR.NO_DATA")}))})},474:function(e,t,a){"use strict";var c=a(71),n=a(1),l=a.n(n),r=a(14),s=a(12),i=a(494),m=a(27);t.a=(({circle:e,current:t,pageCount:a,width:o,onChange:E})=>{const d=Object(m.b)().t,u=Object(n.useState)([]),O=Object(c.a)(u,2),g=O[0],N=O[1],b="ltr"===d("DIRECTION")?"left":"right",S="ltr"===d("DIRECTION")?"right":"left";return Object(n.useEffect)(e=>{!o&&(o=i.isMobile?s.i.WIDTH_MOBILE:s.i.WIDTH);const c=Math.ceil(o/2);let n=t-c<1?1:t-c,l=t+c-1>a?a:t+c-1;l-n<o&&(1===n&&(l=a<o?a:o),l===a&&(n=a-o+1<1?1:a-o+1));let r=[];for(let t=n;t<=l;t++)r.push(t);N(r)},[t,a,o]),l.a.createElement(n.Fragment,null,a>0&&l.a.createElement(r.A,{circle:e},l.a.createElement(r.y,{disabled:1===t,onClick:()=>E(1)},l.a.createElement(r.z,{className:"page-link"},l.a.createElement(r.m,{icon:"angle-double-".concat(b)}))),l.a.createElement(r.y,{disabled:1===t,onClick:()=>E(t-1)},l.a.createElement(r.z,{className:"page-link"},l.a.createElement(r.m,{icon:"angle-".concat(b)}))),g.map((e,a)=>l.a.createElement(r.y,{key:e,active:e===t,onClick:()=>t!==e&&E(e)},l.a.createElement(r.z,{className:"page-link"},e))),l.a.createElement(r.y,{disabled:t===a,onClick:()=>E(t+1)},l.a.createElement(r.z,{className:"page-link"},l.a.createElement(r.m,{icon:"angle-".concat(S)}))),l.a.createElement(r.y,{disabled:t===a,onClick:()=>E(a)},l.a.createElement(r.z,{className:"page-link"},l.a.createElement(r.m,{icon:"angle-double-".concat(S)})))))})},475:function(e,t,a){"use strict";var c=a(26),n=a(28),l=a(43);t.a={list:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.list,e).then(e=>{t(e)},e=>{a(e)})}),get:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.get,e).then(e=>{t(e)},e=>{a(e)})}),history:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.history,e).then(e=>{t(e)},e=>{a(e)})}),add:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.add,e).then(e=>{t(e)},e=>{a(e)})}),delete:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.delete,e).then(e=>{t(e)},e=>{a(e)})}),activate:e=>new Promise((t,a)=>{Object(c.a)(n.d,l.a.drivers.activate,e).then(e=>{t(e)},e=>{a(e)})})}},558:function(e,t,a){},567:function(e,t,a){"use strict";a.r(t);var c=a(71),n=a(1),l=a.n(n),r=a(34),s=a(48),i=a(33),m=a(14),o=a(27),E=a(72),d=a(456),u=a(453),O=a(461),g=a(12),N=a(22);var b=a(126),S=a(473),T=a(474),p=a(123),I=a(475),R=({items:e,page:t,detailLink:a,editLink:c,onActivate:n})=>{const r=Object(o.b)().t,i=Object(s.g)(),E=e=>{const c=O.Base64.encode(JSON.stringify({page:t,id:e}));i.push("".concat(a,"/").concat(c))},d=e=>{const a=O.Base64.encode(JSON.stringify({page:t,id:e}));i.push("".concat(c,"/").concat(a))};return l.a.createElement(m.P,{responsive:!0,striped:!0},l.a.createElement(m.R,null,l.a.createElement("tr",{className:""},l.a.createElement("th",{className:"nomer-col"},"#"),l.a.createElement("th",null,r("DRIVERS.FIELDS.NAME")),l.a.createElement("th",null,r("DRIVERS.FIELDS.MOBILE")),l.a.createElement("th",null,r("DRIVERS.FIELDS.VEHICLE")),l.a.createElement("th",null,r("DRIVERS.FIELDS.DOCUMENTS")),l.a.createElement("th",null,r("DRIVERS.FIELDS.BALANCE")),l.a.createElement("th",null,r("DRIVERS.FIELDS.PENDING")),l.a.createElement("th",null,r("DRIVERS.FIELDS.STATUS")),l.a.createElement("th",{className:"edit-col-3"},r("DRIVERS.FIELDS.ACTION")))),l.a.createElement(m.Q,null,!!e.length&&e.map((e,t)=>l.a.createElement("tr",{key:t,className:""},l.a.createElement("td",null,e.number),l.a.createElement("td",null,e.name),l.a.createElement("td",null,"+",e.dial_code," ",e.mobile_number),l.a.createElement("td",null,e.vehicle_name," - ",e.vehicle_number),l.a.createElement("td",null,r("COMMON.STATUS.".concat(e.is_active?"SUBMITTED":"NOT_SUBMITTED"))),l.a.createElement("td",null,e.balance),l.a.createElement("td",null,e.pending||0),l.a.createElement("td",null,l.a.createElement(m.c,{pill:!0,color:e.is_active?"success":"danger"},r("COMMON.STATUS.".concat(e.is_active?"ENABLED":"DISABLED")))),l.a.createElement("td",{className:"edit-col"},l.a.createElement(m.g,{tag:"a",floating:!0,color:"primary",size:"sm",onClick:t=>!!E&&E(e.id)},l.a.createElement(m.m,{icon:"eye"})),l.a.createElement(m.g,{tag:"a",floating:!0,color:"secondary",size:"sm",className:"mx-2",onClick:t=>!!d&&d(e.id)},l.a.createElement(m.m,{icon:"edit"})),l.a.createElement(m.g,{tag:"a",floating:!0,color:e.is_active?"danger":"success",size:"sm",onClick:a=>!!n&&n({item:e,index:t})},l.a.createElement(m.m,{icon:e.is_active?"times":"check"})))))))};a(558),t.default=(()=>{const e=Object(s.h)().page,t=Object(o.b)().t,a=Object(s.g)(),h=Object(r.c)(e=>e).auth.user,C=Object(n.useState)(!1),v=Object(c.a)(C,2),M=v[0],j=v[1],A=Object(n.useState)({}),D=Object(c.a)(A,2),k=D[0],y=D[1],_=Object(n.useState)({}),f=Object(c.a)(_,2),B=f[0],V=f[1],w=Object(n.useState)(0),L=Object(c.a)(w,2),U=L[0],z=L[1],F=Object(n.useState)([]),x=Object(c.a)(F,2),P=x[0],J=x[1],W=e?parseInt(e):1,H=t("NAVBAR.DRIVERS.LIST"),K="".concat(N.a.drivers.add,"/").concat(O.Base64.encode(JSON.stringify({page:e}))),Q=(N.a.drivers.add,e=>{V(Object.assign({},B,{show:!B.show}))}),q=({id:a})=>{Q(),j(!0),I.a.activate({page:e,pageSize:10,userId:h.id,data:B.data}).then(e=>{e.result===g.k.SUCCESS?(z(e.pageCount),J(e.data)):p.b.error(e.message),j(!1)}).catch(e=>{p.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),j(!1)})},G=e=>{a.push("".concat(N.a.drivers.list,"/").concat(e))},Y=({id:e,item:a})=>{const c=t("COMMON.BUTTON.".concat(a.is_active?"DEACTIVATE":"ACTIVATE"));V(Object.assign({},B,{show:!0,title:t("COMMON.BUTTON.".concat(a.is_active?"DEACTIVATE":"ACTIVATE")),message:t("COMMON.QUESTION.".concat(a.is_active?"DEACTIVATE":"ACTIVATE"),{item:a.name}),data:{id:a.id,is_active:!a.is_active},primaryButton:{color:a.is_active?"danger":"success",text:c}}))};Object(n.useEffect)(e=>{E.animateScroll.scrollToTop({duration:g.e.TRANSITION_TIME})},[]),Object(n.useMemo)(a=>{j(!0),y({}),I.a.list({page:e,pageSize:10,userId:h.id}).then(e=>{e.result===g.k.SUCCESS?(z(e.pageCount),J(e.data)):p.b.error(e.message),j(!1)}).catch(e=>{p.b.error(t("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),j(!1)})},[e,t]),Object(n.useMemo)(e=>{E.animateScroll.scrollToTop({duration:g.e.TRANSITION_TIME})},[e]);return l.a.createElement(n.Fragment,null,l.a.createElement(d.Helmet,null,l.a.createElement("title",null,H," - ",t("SITE_NAME"))),l.a.createElement(m.e,null,l.a.createElement(m.f,null,t("NAVBAR.DRIVERS.ROOT")),l.a.createElement(m.f,{active:!0},H)),l.a.createElement(m.E,{className:"my-0"},l.a.createElement(m.j,{md:"12",className:"order-1 order-md-0"},l.a.createElement("div",{className:"full-width text-left"},l.a.createElement(i.b,{to:K},l.a.createElement(m.g,{color:"primary",size:"sm",rounded:!0,disabled:!!M},t("COMMON.BUTTON.NEW")))))),l.a.createElement(m.E,null,k.show&&l.a.createElement(m.j,{md:"12"},l.a.createElement(u.a,{in:k.show,classNames:"fade-transition",timeout:g.e.TRANSITION_TIME,unmountOnExit:!0,appear:!0},l.a.createElement(m.b,{color:k.color,dismiss:!0,onClosed:()=>y({})},k.message))),l.a.createElement(m.j,{md:"12"},!!M&&l.a.createElement(b.a,null),!M&&!P.length&&l.a.createElement(S.a,null),!M&&!!P.length&&l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"my-4 text-center"},l.a.createElement(T.a,{circle:!0,current:W,pageCount:U,onChange:G})),l.a.createElement(R,{items:P,page:e,detailLink:N.a.drivers.detail,editLink:N.a.drivers.add,onActivate:Y}),l.a.createElement("div",{className:"mt-4 text-center"},l.a.createElement(T.a,{circle:!0,current:W,pageCount:U,onChange:G}))))),l.a.createElement(m.p,{isOpen:!!B.show,toggle:Q,centered:!0,backdropClassName:"modal-backdrop"},l.a.createElement(m.s,{toggle:Q},B.title),l.a.createElement(m.q,{className:"text-left"},B.message),l.a.createElement(m.r,null,l.a.createElement(m.g,{type:"button",color:!!B.primaryButton&&B.primaryButton.color,size:"sm",rounded:!0,onClick:q},!!B.primaryButton&&B.primaryButton.text),l.a.createElement(m.g,{type:"button",color:"secondary",size:"sm",rounded:!0,onClick:Q},t("COMMON.BUTTON.CANCEL")))))})}}]);