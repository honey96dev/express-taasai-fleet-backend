(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{473:function(e,a,t){"use strict";var l=t(1),n=t.n(l),c=t(27),r=t(131);t(129);a.a=(({message:e})=>{const a=Object(c.b)().t;return n.a.createElement("div",{className:"loading-page"},n.a.createElement(r.a,{heading:a("COMMON.ERROR.SORRY"),message:e||a("COMMON.ERROR.NO_DATA")}))})},474:function(e,a,t){"use strict";var l=t(71),n=t(1),c=t.n(n),r=t(14),m=t(12),E=t(494),s=t(27);a.a=(({circle:e,current:a,pageCount:t,width:i,onChange:o})=>{const d=Object(s.b)().t,u=Object(n.useState)([]),I=Object(l.a)(u,2),O=I[0],b=I[1],S="ltr"===d("DIRECTION")?"left":"right",R="ltr"===d("DIRECTION")?"right":"left";return Object(n.useEffect)(e=>{!i&&(i=E.isMobile?m.i.WIDTH_MOBILE:m.i.WIDTH);const l=Math.ceil(i/2);let n=a-l<1?1:a-l,c=a+l-1>t?t:a+l-1;c-n<i&&(1===n&&(c=t<i?t:i),c===t&&(n=t-i+1<1?1:t-i+1));let r=[];for(let a=n;a<=c;a++)r.push(a);b(r)},[a,t,i]),c.a.createElement(n.Fragment,null,t>0&&c.a.createElement(r.A,{circle:e},c.a.createElement(r.y,{disabled:1===a,onClick:()=>o(1)},c.a.createElement(r.z,{className:"page-link"},c.a.createElement(r.m,{icon:"angle-double-".concat(S)}))),c.a.createElement(r.y,{disabled:1===a,onClick:()=>o(a-1)},c.a.createElement(r.z,{className:"page-link"},c.a.createElement(r.m,{icon:"angle-".concat(S)}))),O.map((e,t)=>c.a.createElement(r.y,{key:e,active:e===a,onClick:()=>a!==e&&o(e)},c.a.createElement(r.z,{className:"page-link"},e))),c.a.createElement(r.y,{disabled:a===t,onClick:()=>o(a+1)},c.a.createElement(r.z,{className:"page-link"},c.a.createElement(r.m,{icon:"angle-".concat(R)}))),c.a.createElement(r.y,{disabled:a===t,onClick:()=>o(t)},c.a.createElement(r.z,{className:"page-link"},c.a.createElement(r.m,{icon:"angle-double-".concat(R)})))))})},475:function(e,a,t){"use strict";var l=t(26),n=t(28),c=t(43);a.a={list:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.list,e).then(e=>{a(e)},e=>{t(e)})}),get:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.get,e).then(e=>{a(e)},e=>{t(e)})}),history:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.history,e).then(e=>{a(e)},e=>{t(e)})}),add:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.add,e).then(e=>{a(e)},e=>{t(e)})}),delete:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.delete,e).then(e=>{a(e)},e=>{t(e)})}),activate:e=>new Promise((a,t)=>{Object(l.a)(n.d,c.a.drivers.activate,e).then(e=>{a(e)},e=>{t(e)})})}},559:function(e,a,t){},560:function(e,a,t){},571:function(e,a,t){"use strict";t.r(a);var l=t(71),n=t(1),c=t.n(n),r=t(14),m=t(27),E=t(48),s=t(33),i=t(456),o=t(34),d=t(461),u=t(12),I=t(22),O=t(43),b=t(123),S=t(475),R=(t(559),({data:e})=>{const a=Object(m.b)().t;let t="";e.dial_code&&(t="+".concat(e.dial_code)),e.mobile_number&&(t="".concat(t," ").concat(e.mobile_number));return c.a.createElement(n.Fragment,null,c.a.createElement("h4",{className:"h4-responsive mt-3"},a("DRIVERS.DETAILS.INFORMATION.HEADING")),c.a.createElement(r.E,{className:"mt-3"},c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.NAME")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.name||"",readOnly:!0})),c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.MOBILE")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:t,readOnly:!0}))),c.a.createElement(r.E,null,c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.LICENSE_NUMBER")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.license_number||"",readOnly:!0})),c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_NAME")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_name||"",readOnly:!0}))),c.a.createElement(r.E,null,c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_TYPE")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_type||"",readOnly:!0})),c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_BRAND")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_brand||"",readOnly:!0}))),c.a.createElement(r.E,null,c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_MODEL")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_model||"",readOnly:!0})),c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_COLOR")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_color||"",readOnly:!0}))),c.a.createElement(r.E,null,c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_MODEL")),c.a.createElement(r.o,{outline:!0,containerClass:"my-0",value:e.vehicle_number||"",readOnly:!0}))),c.a.createElement(r.E,null,c.a.createElement(r.j,{md:"6"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_MODEL")),c.a.createElement("div",{className:"driver-image-wrapper text-center"},c.a.createElement("img",{className:"z-depth-1",src:e.vehicle_image}))),c.a.createElement(r.j,{md:"6",className:"mt-3 mt-md-0"},c.a.createElement("label",null,a("DRIVERS.FIELDS.VEHICLE_MODEL")),c.a.createElement("div",{className:"driver-image-wrapper text-center"},c.a.createElement("img",{className:"z-depth-1",src:e.driver_image})))))}),D=(t(560),t(514)),N=t.n(D),v=t(472),h=t.n(v),C=({items:e,page:a})=>{const t=Object(m.b)().t,l=(Object(E.g)(),{colors:["#e67e22","#3498db","#2980b9","#2ecc71","#1abc9c","#d35400","#e74c3c"],labels:["Waiting","Driver Assigned","Driver Arrived","Started","Completed","Driver Unavailable","Cancelled"]});return c.a.createElement(r.P,{responsive:!0,striped:!0},c.a.createElement(r.R,null,c.a.createElement("tr",{className:""},c.a.createElement("th",{className:"nomer-col"},"#"),c.a.createElement("th",null,t("COMMISSION.FIELDS.PASSENGER")),c.a.createElement("th",null,t("COMMISSION.FIELDS.PICKUP_LOCATION")),c.a.createElement("th",null,t("COMMISSION.FIELDS.DROP_LOCATION")),c.a.createElement("th",null,t("COMMISSION.FIELDS.BOOKING_TIME")),c.a.createElement("th",null,t("COMMISSION.FIELDS.DURATION")),c.a.createElement("th",null,t("COMMISSION.FIELDS.FARE")),c.a.createElement("th",null,t("COMMISSION.FIELDS.COMMISSION")),c.a.createElement("th",null,t("COMMISSION.FIELDS.STATUS")))),c.a.createElement(r.Q,null,!!e.length&&e.map((e,a)=>c.a.createElement("tr",{key:a,className:""},c.a.createElement("td",null,e.number),c.a.createElement("td",null,e.passenger),c.a.createElement("td",null,e.pickup_location),c.a.createElement("td",null,e.drop_location),c.a.createElement("td",null,N()(new Date(e.ride_date_time),"ddd, mmm dS, h:MM TT")),c.a.createElement("td",null,e.duration),c.a.createElement("td",null,e.total_fare),c.a.createElement("td",null,h()(e.operator_commission+e.fleet_commission).format(u.h.FORMAT.FIXED_2)),c.a.createElement("td",null,c.a.createElement(r.c,{pill:!0,color:"none",style:{backgroundColor:l.colors[e.ride_status]}},l.labels[e.ride_status]))))))},g=t(474),j=t(126),p=t(473);a.default=(()=>{let e=Object(E.h)(),a=e.params,t=e.tab;const D=Object(m.b)().t,N=Object(E.g)(),v=Object(o.c)(e=>e).auth.user,h=Object(n.useState)({}),M=Object(l.a)(h,2),L=M[0],_=M[1],A=Object(n.useState)(!1),y=Object(l.a)(A,2),V=(y[0],y[1]),T=Object(n.useState)(!1),F=Object(l.a)(T,2),k=F[0],f=F[1],H=Object(n.useState)({}),w=Object(l.a)(H,2),P=w[0],B=w[1],U=Object(n.useState)([]),z=Object(l.a)(U,2),G=z[0],x=z[1],W=Object(n.useState)(1),Y=Object(l.a)(W,2),J=Y[0],K=Y[1],Q=Object(n.useState)(0),X=Object(l.a)(Q,2),q=X[0],Z=X[1],$=D("NAVBAR.DRIVERS.DETAILS");let ee="".concat(I.a.drivers.list,"/").concat(L.page||1);const ae=J||1,te="Information",le="History";let ne;switch(t=t||te){case te:ne=D("DRIVERS.DETAILS.INFORMATION.HEADING");break;case le:ne=D("DRIVERS.DETAILS.HISTORY.HEADING")}const ce=e=>{const t="".concat(I.a.drivers.detail,"/").concat(a,"/").concat(e);N.push(t)},re=e=>{K(e)};Object(n.useMemo)(e=>{if(a)try{const t=d.Base64.decode(a),l=JSON.parse(t);_(l)}catch(e){}},[a,D]),Object(n.useMemo)(e=>{L.id&&(e=>{V(!0),S.a.get({id:L.id,userId:v.id}).then(e=>{if(e.result===u.k.SUCCESS){const a=e.data.vehicle_image.split("/");a.length&&(a.splice(0,1),e.data.vehicle_image="".concat(O.a.assetsBaseUrl).concat(a.join("/")));const t=e.data.driver_image.split("/");t.length&&(t.splice(0,1),e.data.driver_image="".concat(O.a.assetsBaseUrl).concat(t.join("/"))),B(e.data)}else b.b.error(e.message),B({});V(!1)}).catch(e=>{B({}),b.b.error(D("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),V(!1)})})()},[L.id]),Object(n.useMemo)(e=>{L.id&&(e=>{f(!0),S.a.history({id:L.id,userId:v.id,page:J}).then(e=>{e.result===u.k.SUCCESS?(Z(e.pageCount),x(e.data)):(b.b.error(e.message),Z(0),x([])),f(!1)}).catch(e=>{x([]),f(!1)})})()},[L.id,J]);return c.a.createElement(n.Fragment,null,c.a.createElement(i.Helmet,null,c.a.createElement("title",null,$," - ",D("SITE_NAME"))),c.a.createElement(r.e,null,c.a.createElement(r.f,null,D("NAVBAR.DRIVERS.ROOT")),c.a.createElement(r.f,null,c.a.createElement(s.b,{to:ee},D("NAVBAR.DRIVERS.LIST"))),c.a.createElement(r.f,{active:!0},$)),c.a.createElement("div",{className:"classic-tabs mb-5"},c.a.createElement(r.t,{classicTabs:!0,color:"mdb-color"},c.a.createElement(r.u,null,c.a.createElement(r.v,{to:"".concat(I.a.drivers.detail,"/").concat(a,"/").concat(te),link:I.a.drivers.detail,active:t===te,role:"tab",onClick:e=>ce(te)},D("DRIVERS.DETAILS.INFORMATION.HEADING"))),c.a.createElement(r.u,null,c.a.createElement(r.v,{to:"".concat(I.a.drivers.detail,"/").concat(a,"/").concat(le),link:I.a.drivers.detail,active:t===le,role:"tab",onClick:e=>ce(le)},D("DRIVERS.DETAILS.HISTORY.HEADING")))),c.a.createElement(r.N,{className:"card",activeItem:t},c.a.createElement(r.O,{tabId:te,role:"tabpanel"},c.a.createElement(R,{data:P})),c.a.createElement(r.O,{tabId:le,role:"tabpanel"},!!k&&c.a.createElement(j.a,null),!k&&!G.length&&c.a.createElement(p.a,null),!k&&!!G.length&&c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"my-4 text-center"},c.a.createElement(g.a,{circle:!0,current:ae,pageCount:q,onChange:re})),c.a.createElement(C,{items:G}),c.a.createElement("div",{className:"my-4 text-center"},c.a.createElement(g.a,{circle:!0,current:ae,pageCount:q,onChange:re})))))))})}}]);