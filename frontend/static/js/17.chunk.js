(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{549:function(e,a,t){"use strict";t.r(a);var s=t(71),l=t(1),n=t.n(l),c=t(27),r=t(48),m=t(33),o=t(14),i=t(453),E=t(72),d=t(456),N=t(467),u=t(466),S=t(123),O=t(73),b=t(22),R=t(12),h=t(89);t(550);a.default=(e=>{const a=Object(r.h)(),t=a.email,w=a.token,p=Object(c.b)().t,A=Object(l.useState)(!1),T=Object(s.a)(A,2),g=T[0],I=T[1],M=Object(l.useState)(!0),_=Object(s.a)(M,2),f=_[0],x=_[1],D=Object(l.useState)({}),C=Object(s.a)(D,2),j=C[0],v=C[1],U={password:""},k=u.b().shape({password:u.d().required(p("COMMON.VALIDATION.REQUIRED",{field:p("AUTH.PASSWORD")})).min(R.b.PASSWORD_MIN_LENGTH,p("COMMON.VALIDATION.MIN_LENGTH",{field:p("AUTH.PASSWORD"),length:p("COMMON.CARDINALS.".concat(R.b.PASSWORD_MIN_LENGTH))}))}),H=({password:e},{setSubmitting:a})=>{const s={email:t,token:w,password:e};I(!0),a(!0),h.a.resetPassword(s).then(e=>{e.result===R.k.SUCCESS?S.b.success(e.message):S.b.error(e.message),I(!1),a(!1)}).catch(e=>{S.b.error(p("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),I(!1),a(!1)})};Object(l.useEffect)(()=>{E.animateScroll.scrollToTop({duration:R.e.TRANSITION_TIME}),I(!0),h.a.validateToken({email:t,token:w}).then(e=>{I(!1),e.result!==R.k.SUCCESS?(x(!0),v({show:!0,color:R.a.DANGER,message:e.message})):x(!1)}).catch(e=>{I(!1),x(!0),v({show:!0,color:R.a.DANGER,message:p("COMMON.ERROR.UNKNOWN_SERVER_ERROR")})})},[e]),Object(l.useMemo)(e=>{},[p]);return n.a.createElement(l.Fragment,null,n.a.createElement(d.Helmet,null,n.a.createElement("title",null,p("AUTH.RESET_PASSWORD")," - ",p("SITE_NAME"))),n.a.createElement("div",{className:"admin-nav text-center"},n.a.createElement("img",{className:"logo-img mt-3 mb-5",src:O.a.logo.logo100})),n.a.createElement(o.h,{className:"auth-bg"},n.a.createElement(o.i,{className:"mx-md-4 mx-sm-1"},n.a.createElement(o.E,{className:"text-center"},n.a.createElement(o.j,{className:"col-12 underlined white-border"},n.a.createElement("p",{className:"text-white h5"},p("AUTH.RESET_PASSWORD")))),n.a.createElement(N.a,{initialValues:U,validationSchema:k,onSubmit:H},({values:{password:e},errors:a,touched:t,handleChange:s,handleSubmit:l,handleBlur:c,isSubmitting:r})=>n.a.createElement("form",{onSubmit:l},n.a.createElement("div",{className:"white-text mt-5"},n.a.createElement(o.o,{id:"password",name:"password",type:"password",icon:"lock",label:p("AUTH.PASSWORD"),background:!0,value:e,onChange:s,onBlur:c},!!t.password&&!!a.password&&n.a.createElement("div",{className:"text-left invalid-field2"},a.password))),n.a.createElement(i.a,{in:j.show,classNames:"fade-transition",timeout:R.e.TRANSITION_TIME,unmountOnExit:!0,appear:!0},n.a.createElement(o.b,{color:j.color,onClosed:()=>v({})},j.message)),n.a.createElement("div",{className:"text-center mt-4 mb-3 mx-5"},n.a.createElement(o.g,{type:"submit",color:"white",rounded:!0,className:"full-width z-depth-1a blue-grey-text",disabled:g||f},!g&&n.a.createElement(o.m,{icon:"lock"}),!!g&&n.a.createElement("div",{className:"spinner-grow spinner-grow-sm",role:"status"}),p("AUTH.RESET_PASSWORD"))),n.a.createElement("p",{className:"font-small white-text d-flex justify-content-end pb-3"},n.a.createElement(m.b,{className:"ml-1 white-text",to:b.a.auth.signIn},p("AUTH.SIGN_IN"))))))))})},550:function(e,a,t){}}]);