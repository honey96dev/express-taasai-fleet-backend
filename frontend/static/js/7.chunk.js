(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{472:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(27),c=a(130);a(128);t.a=(({message:e})=>{const t=Object(r.b)().t;return l.a.createElement("div",{className:"loading-page"},l.a.createElement(c.a,{heading:t("COMMON.ERROR.SORRY"),message:e||t("COMMON.ERROR.NO_DATA")}))})},473:function(e,t,a){"use strict";var n=a(71),l=a(1),r=a.n(l),c=a(12),m=a(13),i=a(493),s=a(27);t.a=(({circle:e,current:t,pageCount:a,width:o,onChange:d})=>{const E=Object(s.b)().t,u=Object(l.useState)([]),O=Object(n.a)(u,2),I=O[0],S=O[1],y="ltr"===E("DIRECTION")?"left":"right",b="ltr"===E("DIRECTION")?"right":"left";return Object(l.useEffect)(e=>{!o&&(o=i.isMobile?m.h.WIDTH_MOBILE:m.h.WIDTH);const n=Math.ceil(o/2);let l=t-n<1?1:t-n,r=t+n-1>a?a:t+n-1;r-l<o&&(1===l&&(r=a<o?a:o),r===a&&(l=a-o+1<1?1:a-o+1));let c=[];for(let t=l;t<=r;t++)c.push(t);S(c)},[t,a,o]),r.a.createElement(l.Fragment,null,a>0&&r.a.createElement(c.A,{circle:e},r.a.createElement(c.y,{disabled:1===t,onClick:()=>d(1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-double-".concat(y)}))),r.a.createElement(c.y,{disabled:1===t,onClick:()=>d(t-1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-".concat(y)}))),I.map((e,a)=>r.a.createElement(c.y,{key:e,active:e===t,onClick:()=>t!==e&&d(e)},r.a.createElement(c.z,{className:"page-link"},e))),r.a.createElement(c.y,{disabled:t===a,onClick:()=>d(t+1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-".concat(b)}))),r.a.createElement(c.y,{disabled:t===a,onClick:()=>d(a)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-double-".concat(b)})))))})},474:function(e,t,a){"use strict";var n=a(26),l=a(30),r=a(44);t.a={list:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.list,e).then(e=>{t(e)},e=>{a(e)})}),get:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.get,e).then(e=>{t(e)},e=>{a(e)})}),history:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.history,e).then(e=>{t(e)},e=>{a(e)})}),add:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.add,e).then(e=>{t(e)},e=>{a(e)})}),delete:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.delete,e).then(e=>{t(e)},e=>{a(e)})}),activate:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.activate,e).then(e=>{t(e)},e=>{a(e)})})}},494:function(e,t,a){var n;!function(l){"use strict";var r=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g;return function(n,l,m,i){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!==typeof e)return typeof e;if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(n)||/\d/.test(n)||(l=n,n=void 0),(n=n||new Date)instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");var s=(l=String(r.masks[l]||l||r.masks.default)).slice(0,4);"UTC:"!==s&&"GMT:"!==s||(l=l.slice(4),m=!0,"GMT:"===s&&(i=!0));var o=m?"getUTC":"get",d=n[o+"Date"](),E=n[o+"Day"](),u=n[o+"Month"](),O=n[o+"FullYear"](),I=n[o+"Hours"](),S=n[o+"Minutes"](),y=n[o+"Seconds"](),b=n[o+"Milliseconds"](),D=m?0:n.getTimezoneOffset(),g=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);var l=(t-a)/6048e5;return 1+Math.floor(l)}(n),M=function(e){var t=e.getDay();0===t&&(t=7);return t}(n),N={d:d,dd:c(d),ddd:r.i18n.dayNames[E],dddd:r.i18n.dayNames[E+7],m:u+1,mm:c(u+1),mmm:r.i18n.monthNames[u],mmmm:r.i18n.monthNames[u+12],yy:String(O).slice(2),yyyy:O,h:I%12||12,hh:c(I%12||12),H:I,HH:c(I),M:S,MM:c(S),s:y,ss:c(y),l:c(b,3),L:c(Math.round(b/10)),t:I<12?r.i18n.timeNames[0]:r.i18n.timeNames[1],tt:I<12?r.i18n.timeNames[2]:r.i18n.timeNames[3],T:I<12?r.i18n.timeNames[4]:r.i18n.timeNames[5],TT:I<12?r.i18n.timeNames[6]:r.i18n.timeNames[7],Z:i?"GMT":m?"UTC":(String(n).match(t)||[""]).pop().replace(a,""),o:(D>0?"-":"+")+c(100*Math.floor(Math.abs(D)/60)+Math.abs(D)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:g,N:M};return l.replace(e,function(e){return e in N?N[e]:e.slice(1,e.length-1)})}}();function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return r}.call(t,a,t,e))||(e.exports=n)}()},554:function(e,t,a){},555:function(e,t,a){},567:function(e,t,a){"use strict";a.r(t);var n=a(71),l=a(1),r=a.n(l),c=a(12),m=a(27),i=a(48),s=a(33),o=a(457),d=a(34),E=a(461),u=a(13),O=a(23),I=a(44),S=a(123),y=a(474),b=(a(554),({data:e})=>{const t=Object(m.b)().t;let a="";e.dial_code&&(a="+".concat(e.dial_code)),e.mobile_number&&(a="".concat(a," ").concat(e.mobile_number));return r.a.createElement(l.Fragment,null,r.a.createElement("h4",{className:"h4-responsive mt-3"},t("DRIVERS.DETAILS.INFORMATION.HEADING")),r.a.createElement(c.D,{className:"mt-3"},r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.NAME")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.name||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.MOBILE")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:a,readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.LICENSE_NUMBER")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.license_number||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_NAME")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_name||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_TYPE")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_type||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_BRAND")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_brand||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_model||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_COLOR")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_color||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_number||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement("div",{className:"driver-image-wrapper text-center"},r.a.createElement("img",{className:"z-depth-1",src:e.vehicle_image}))),r.a.createElement(c.j,{md:"6",className:"mt-3 mt-md-0"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement("div",{className:"driver-image-wrapper text-center"},r.a.createElement("img",{className:"z-depth-1",src:e.driver_image})))))}),D=(a(555),a(494)),g=a.n(D),M=({items:e,page:t})=>{const a=Object(m.b)().t,n=(Object(i.g)(),{colors:["#e67e22","#3498db","#2980b9","#2ecc71","#1abc9c","#d35400","#e74c3c"],labels:["Waiting","Driver Assigned","Driver Arrived","Started","Completed","Driver Unavailable","Cancelled"]});return r.a.createElement(c.O,{responsive:!0,striped:!0},r.a.createElement(c.Q,null,r.a.createElement("tr",{className:""},r.a.createElement("th",{className:"nomer-col"},"#"),r.a.createElement("th",null,a("COMMISSION.FIELDS.PASSENGER")),r.a.createElement("th",null,a("COMMISSION.FIELDS.PICKUP_LOCATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.DROP_LOCATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.BOOKING_TIME")),r.a.createElement("th",null,a("COMMISSION.FIELDS.DURATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.FARE")),r.a.createElement("th",null,a("COMMISSION.FIELDS.COMMISSION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.STATUS")))),r.a.createElement(c.P,null,!!e.length&&e.map((e,t)=>r.a.createElement("tr",{key:t,className:""},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.passenger),r.a.createElement("td",null,e.pickup_location),r.a.createElement("td",null,e.drop_location),r.a.createElement("td",null,g()(new Date(e.ride_date_time),"ddd, mmm dS, h:MM TT")),r.a.createElement("td",null,e.duration),r.a.createElement("td",null,e.total_fare),r.a.createElement("td",null,new Number(e.operator_commission+e.fleet_commission).toFixed(2)),r.a.createElement("td",null,r.a.createElement(c.c,{pill:!0,color:"none",style:{backgroundColor:n.colors[e.ride_status]}},n.labels[e.ride_status]))))))},N=a(473),h=a(129),v=a(472);t.default=(()=>{let e=Object(i.h)(),t=e.params,a=e.tab;const D=Object(m.b)().t,g=Object(i.g)(),R=Object(d.c)(e=>e).auth.user,T=Object(l.useState)({}),C=Object(n.a)(T,2),p=C[0],f=C[1],j=Object(l.useState)(!1),L=Object(n.a)(j,2),A=(L[0],L[1]),_=Object(l.useState)(!1),H=Object(n.a)(_,2),F=H[0],V=H[1],k=Object(l.useState)({}),w=Object(n.a)(k,2),P=w[0],U=w[1],B=Object(l.useState)([]),G=Object(n.a)(B,2),z=G[0],J=G[1],W=Object(l.useState)(1),x=Object(n.a)(W,2),Y=x[0],Z=x[1],K=Object(l.useState)(0),Q=Object(n.a)(K,2),q=Q[0],X=Q[1],$=D("NAVBAR.DRIVERS.DETAILS");let ee="".concat(O.a.drivers.list,"/").concat(p.page||1);const te=Y||1,ae="Information",ne="History";let le;switch(a=a||ae){case ae:le=D("DRIVERS.DETAILS.INFORMATION.HEADING");break;case ne:le=D("DRIVERS.DETAILS.HISTORY.HEADING")}const re=e=>{const a="".concat(O.a.drivers.detail,"/").concat(t,"/").concat(e);g.push(a)},ce=e=>{Z(e)};Object(l.useMemo)(e=>{if(t)try{const a=E.Base64.decode(t),n=JSON.parse(a);f(n)}catch(e){}},[t,D]),Object(l.useMemo)(e=>{p.id&&(e=>{A(!0),y.a.get({id:p.id,userId:R.id}).then(e=>{if(e.result===u.j.SUCCESS){const t=e.data.vehicle_image.split("/");t.length&&(t.splice(0,1),e.data.vehicle_image="".concat(I.a.assetsBaseUrl).concat(t.join("/")));const a=e.data.driver_image.split("/");a.length&&(a.splice(0,1),e.data.driver_image="".concat(I.a.assetsBaseUrl).concat(a.join("/"))),U(e.data)}else S.b.error(e.message),U({});A(!1)}).catch(e=>{U({}),S.b.error(D("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),A(!1)})})()},[p.id]),Object(l.useMemo)(e=>{p.id&&(e=>{V(!0),y.a.history({id:p.id,userId:R.id,page:Y}).then(e=>{e.result===u.j.SUCCESS?(X(e.pageCount),J(e.data)):(S.b.error(e.message),X(0),J([])),V(!1)}).catch(e=>{J([]),V(!1)})})()},[p.id,Y]);return r.a.createElement(l.Fragment,null,r.a.createElement(o.Helmet,null,r.a.createElement("title",null,$," - ",D("SITE_NAME"))),r.a.createElement(c.e,null,r.a.createElement(c.f,null,D("NAVBAR.DRIVERS.ROOT")),r.a.createElement(c.f,null,r.a.createElement(s.b,{to:ee},D("NAVBAR.DRIVERS.LIST"))),r.a.createElement(c.f,{active:!0},$)),r.a.createElement("div",{className:"classic-tabs mb-5"},r.a.createElement(c.t,{classicTabs:!0,color:"mdb-color"},r.a.createElement(c.u,null,r.a.createElement(c.v,{to:"".concat(O.a.drivers.detail,"/").concat(t,"/").concat(ae),link:O.a.drivers.detail,active:a===ae,role:"tab",onClick:e=>re(ae)},D("DRIVERS.DETAILS.INFORMATION.HEADING"))),r.a.createElement(c.u,null,r.a.createElement(c.v,{to:"".concat(O.a.drivers.detail,"/").concat(t,"/").concat(ne),link:O.a.drivers.detail,active:a===ne,role:"tab",onClick:e=>re(ne)},D("DRIVERS.DETAILS.HISTORY.HEADING")))),r.a.createElement(c.M,{className:"card",activeItem:a},r.a.createElement(c.N,{tabId:ae,role:"tabpanel"},r.a.createElement(b,{data:P})),r.a.createElement(c.N,{tabId:ne,role:"tabpanel"},!!F&&r.a.createElement(h.a,null),!F&&!z.length&&r.a.createElement(v.a,null),!F&&!!z.length&&r.a.createElement(l.Fragment,null,r.a.createElement("div",{className:"my-4 text-center"},r.a.createElement(N.a,{circle:!0,current:te,pageCount:q,onChange:ce})),r.a.createElement(M,{items:z}),r.a.createElement("div",{className:"my-4 text-center"},r.a.createElement(N.a,{circle:!0,current:te,pageCount:q,onChange:ce})))))))})}}]);