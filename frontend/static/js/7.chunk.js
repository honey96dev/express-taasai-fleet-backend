(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{471:function(e,t,a){"use strict";var n=a(67),l=a(1),r=a.n(l),c=a(16),m=a(13),i=a(492),s=a(26);t.a=(({circle:e,current:t,pageCount:a,width:o,onChange:d})=>{const E=Object(s.b)().t,u=Object(l.useState)([]),I=Object(n.a)(u,2),S=I[0],y=I[1],b="ltr"===E("DIRECTION")?"left":"right",O="ltr"===E("DIRECTION")?"right":"left";return Object(l.useEffect)(e=>{!o&&(o=i.isMobile?m.h.WIDTH_MOBILE:m.h.WIDTH);const n=Math.ceil(o/2);let l=t-n<1?1:t-n,r=t+n-1>a?a:t+n-1;r-l<o&&(1===l&&(r=a<o?a:o),r===a&&(l=a-o+1<1?1:a-o+1));let c=[];for(let t=l;t<=r;t++)c.push(t);y(c)},[t,a,o]),r.a.createElement(l.Fragment,null,a>0&&r.a.createElement(c.A,{circle:e},r.a.createElement(c.y,{disabled:1===t,onClick:()=>d(1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-double-".concat(b)}))),r.a.createElement(c.y,{disabled:1===t,onClick:()=>d(t-1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-".concat(b)}))),S.map((e,a)=>r.a.createElement(c.y,{key:e,active:e===t,onClick:()=>t!==e&&d(e)},r.a.createElement(c.z,{className:"page-link"},e))),r.a.createElement(c.y,{disabled:t===a,onClick:()=>d(t+1)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-".concat(O)}))),r.a.createElement(c.y,{disabled:t===a,onClick:()=>d(a)},r.a.createElement(c.z,{className:"page-link"},r.a.createElement(c.m,{icon:"angle-double-".concat(O)})))))})},472:function(e,t,a){"use strict";var n=a(29),l=a(42),r=a(54);t.a={list:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.list,e).then(e=>{t(e)},e=>{a(e)})}),get:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.get,e).then(e=>{t(e)},e=>{a(e)})}),history:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.history,e).then(e=>{t(e)},e=>{a(e)})}),add:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.add,e).then(e=>{t(e)},e=>{a(e)})}),delete:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.delete,e).then(e=>{t(e)},e=>{a(e)})}),activate:e=>new Promise((t,a)=>{Object(n.a)(l.d,r.a.drivers.activate,e).then(e=>{t(e)},e=>{a(e)})})}},493:function(e,t,a){var n;!function(l){"use strict";var r=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g;return function(n,l,m,i){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!==typeof e)return typeof e;if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(n)||/\d/.test(n)||(l=n,n=void 0),(n=n||new Date)instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");var s=(l=String(r.masks[l]||l||r.masks.default)).slice(0,4);"UTC:"!==s&&"GMT:"!==s||(l=l.slice(4),m=!0,"GMT:"===s&&(i=!0));var o=m?"getUTC":"get",d=n[o+"Date"](),E=n[o+"Day"](),u=n[o+"Month"](),I=n[o+"FullYear"](),S=n[o+"Hours"](),y=n[o+"Minutes"](),b=n[o+"Seconds"](),O=n[o+"Milliseconds"](),D=m?0:n.getTimezoneOffset(),h=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);var n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);var l=(t-a)/6048e5;return 1+Math.floor(l)}(n),M=function(e){var t=e.getDay();0===t&&(t=7);return t}(n),N={d:d,dd:c(d),ddd:r.i18n.dayNames[E],dddd:r.i18n.dayNames[E+7],m:u+1,mm:c(u+1),mmm:r.i18n.monthNames[u],mmmm:r.i18n.monthNames[u+12],yy:String(I).slice(2),yyyy:I,h:S%12||12,hh:c(S%12||12),H:S,HH:c(S),M:y,MM:c(y),s:b,ss:c(b),l:c(O,3),L:c(Math.round(O/10)),t:S<12?r.i18n.timeNames[0]:r.i18n.timeNames[1],tt:S<12?r.i18n.timeNames[2]:r.i18n.timeNames[3],T:S<12?r.i18n.timeNames[4]:r.i18n.timeNames[5],TT:S<12?r.i18n.timeNames[6]:r.i18n.timeNames[7],Z:i?"GMT":m?"UTC":(String(n).match(t)||[""]).pop().replace(a,""),o:(D>0?"-":"+")+c(100*Math.floor(Math.abs(D)/60)+Math.abs(D)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:h,N:M};return l.replace(e,function(e){return e in N?N[e]:e.slice(1,e.length-1)})}}();function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return r}.call(t,a,t,e))||(e.exports=n)}()},553:function(e,t,a){},554:function(e,t,a){},563:function(e,t,a){"use strict";a.r(t);var n=a(67),l=a(1),r=a.n(l),c=a(16),m=a(26),i=a(52),s=a(32),o=a(456),d=a(40),E=a(460),u=a(13),I=a(23),S=a(54),y=a(123),b=a(472),O=(a(553),({data:e})=>{const t=Object(m.b)().t;let a="";e.dial_code&&(a="+".concat(e.dial_code)),e.mobile_number&&(a="".concat(a," ").concat(e.mobile_number));return r.a.createElement(l.Fragment,null,r.a.createElement("h4",{className:"h4-responsive mt-3"},t("DRIVERS.DETAILS.INFORMATION.HEADING")),r.a.createElement(c.D,{className:"mt-3"},r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.NAME")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.name||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.MOBILE")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:a,readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.LICENSE_NUMBER")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.license_number||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_NAME")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_name||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_TYPE")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_type||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_BRAND")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_brand||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_model||"",readOnly:!0})),r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_COLOR")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_color||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement(c.o,{outline:!0,containerClass:"my-0",value:e.vehicle_number||"",readOnly:!0}))),r.a.createElement(c.D,null,r.a.createElement(c.j,{md:"6"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement("div",{className:"driver-image-wrapper text-center"},r.a.createElement("img",{className:"z-depth-1",src:e.vehicle_image}))),r.a.createElement(c.j,{md:"6",className:"mt-3 mt-md-0"},r.a.createElement("label",null,t("DRIVERS.FIELDS.VEHICLE_MODEL")),r.a.createElement("div",{className:"driver-image-wrapper text-center"},r.a.createElement("img",{className:"z-depth-1",src:e.driver_image})))))}),D=(a(554),a(493)),h=a.n(D),M=({items:e,page:t})=>{const a=Object(m.b)().t,n=(Object(i.g)(),{colors:["#e67e22","#3498db","#2980b9","#2ecc71","#1abc9c","#d35400","#e74c3c"],labels:["Waiting","Driver Assigned","Driver Arrived","Started","Completed","Driver Unavailable","Cancelled"]});return r.a.createElement(c.O,{responsive:!0,striped:!0},r.a.createElement(c.Q,null,r.a.createElement("tr",{className:""},r.a.createElement("th",{className:"nomer-col"},"#"),r.a.createElement("th",null,a("COMMISSION.FIELDS.PASSENGER")),r.a.createElement("th",null,a("COMMISSION.FIELDS.PICKUP_LOCATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.DROP_LOCATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.BOOKING_TIME")),r.a.createElement("th",null,a("COMMISSION.FIELDS.DURATION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.FARE")),r.a.createElement("th",null,a("COMMISSION.FIELDS.COMMISSION")),r.a.createElement("th",null,a("COMMISSION.FIELDS.STATUS")))),r.a.createElement(c.P,null,!!e.length&&e.map((e,t)=>r.a.createElement("tr",{key:t,className:""},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.passenger),r.a.createElement("td",null,e.pickup_location),r.a.createElement("td",null,e.drop_location),r.a.createElement("td",null,h()(new Date(e.ride_date_time),"ddd, mmm dS, h:MM TT")),r.a.createElement("td",null,e.duration),r.a.createElement("td",null,e.total_fare),r.a.createElement("td",null,new Number(e.operator_commission+e.fleet_commission).toPrecision(2)),r.a.createElement("td",null,r.a.createElement(c.c,{pill:!0,color:"none",style:{backgroundColor:n.colors[e.ride_status]}},n.labels[e.ride_status]))))))},N=a(471);t.default=(()=>{let e=Object(i.h)(),t=e.params,a=e.tab;const D=Object(m.b)().t,h=Object(i.g)(),g=Object(d.c)(e=>e).auth.user,v=Object(l.useState)({}),T=Object(n.a)(v,2),R=T[0],C=T[1],p=Object(l.useState)(!1),f=Object(n.a)(p,2),j=(f[0],f[1]),L=Object(l.useState)(!1),A=Object(n.a)(L,2),_=(A[0],A[1]),H=Object(l.useState)({}),F=Object(n.a)(H,2),V=F[0],k=F[1],w=Object(l.useState)([]),P=Object(n.a)(w,2),U=P[0],B=P[1],G=Object(l.useState)(1),z=Object(n.a)(G,2),J=z[0],W=z[1],x=Object(l.useState)(0),Y=Object(n.a)(x,2),Z=Y[0],K=Y[1],Q=D("NAVBAR.DRIVERS.DETAILS");let q="".concat(I.a.drivers.list,"/").concat(R.page||1);const X=J||1,$="Information",ee="History";let te;switch(a=a||$){case $:te=D("DRIVERS.DETAILS.INFORMATION.HEADING");break;case ee:te=D("DRIVERS.DETAILS.HISTORY.HEADING")}const ae=e=>{const a="".concat(I.a.drivers.detail,"/").concat(t,"/").concat(e);h.push(a)},ne=e=>{W(e)};Object(l.useMemo)(e=>{if(t)try{const a=E.Base64.decode(t),n=JSON.parse(a);C(n)}catch(e){}},[t,D]),Object(l.useMemo)(e=>{R.id&&(e=>{j(!0),b.a.get({id:R.id,userId:g.id}).then(e=>{if(e.result===u.j.SUCCESS){const t=e.data.vehicle_image.split("/");t.length&&(t.splice(0,1),e.data.vehicle_image="".concat(S.a.assetsBaseUrl).concat(t.join("/")));const a=e.data.driver_image.split("/");a.length&&(a.splice(0,1),e.data.driver_image="".concat(S.a.assetsBaseUrl).concat(a.join("/"))),k(e.data)}else y.b.error(e.message),k({});j(!1)}).catch(e=>{k({}),y.b.error(D("COMMON.ERROR.UNKNOWN_SERVER_ERROR")),j(!1)}),_(!0),b.a.history({id:R.id,userId:g.id}).then(e=>{e.result===u.j.SUCCESS?(K(e.pageCount),B(e.data)):(y.b.error(e.message),K(0),B([])),_(!1)}).catch(e=>{B([]),_(!1)})})()},[R.id]);return r.a.createElement(l.Fragment,null,r.a.createElement(o.Helmet,null,r.a.createElement("title",null,Q," - ",D("SITE_NAME"))),r.a.createElement(c.e,null,r.a.createElement(c.f,null,D("NAVBAR.DRIVERS.ROOT")),r.a.createElement(c.f,null,r.a.createElement(s.b,{to:q},D("NAVBAR.DRIVERS.LIST"))),r.a.createElement(c.f,{active:!0},Q)),r.a.createElement("div",{className:"classic-tabs mb-5"},r.a.createElement(c.t,{classicTabs:!0,color:"mdb-color"},r.a.createElement(c.u,null,r.a.createElement(c.v,{to:"".concat(I.a.drivers.detail,"/").concat(t,"/").concat($),link:I.a.drivers.detail,active:a===$,role:"tab",onClick:e=>ae($)},D("DRIVERS.DETAILS.INFORMATION.HEADING"))),r.a.createElement(c.u,null,r.a.createElement(c.v,{to:"".concat(I.a.drivers.detail,"/").concat(t,"/").concat(ee),link:I.a.drivers.detail,active:a===ee,role:"tab",onClick:e=>ae(ee)},D("DRIVERS.DETAILS.HISTORY.HEADING")))),r.a.createElement(c.M,{className:"card",activeItem:a},r.a.createElement(c.N,{tabId:$,role:"tabpanel"},r.a.createElement(O,{data:V})),r.a.createElement(c.N,{tabId:ee,role:"tabpanel"},r.a.createElement("div",{className:"my-4 text-center"},r.a.createElement(N.a,{circle:!0,current:X,pageCount:Z,onChange:ne})),r.a.createElement(M,{items:U}),r.a.createElement("div",{className:"my-4 text-center"},r.a.createElement(N.a,{circle:!0,current:X,pageCount:Z,onChange:ne}))))))})}}]);